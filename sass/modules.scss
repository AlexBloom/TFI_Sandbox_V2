//Modules
/* 
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// GLOBAL */


/* ======================================================== LINKS / BUTTONS  */

a, ul a, p a{
	color:inherit;
	text-decoration:underline;
	@include quarter-second-transition;	
	
	&:hover{
	color:$action-color;
	text-decoration:underline;
	}
	&:active{
	color:$action-color;
		
	}
	&:visited{
	text-decoration:line-through;	
	}
}

button{
	font-family:'proxima-nova';
	color:rgba(255,255,255,.75);
	background-color:transparent;
	padding:1em;
	margin:1em;
	border:1px solid transparent;
	text-transform:uppercase;
	font-weight:600;
	letter-spacing:.1em;
	outline:none;
	@include quarter-second-transition;	
	&:hover, &:active{
		color:$white;
	}
	&:hover{
		.icon{
			background-color:$white;
			color:$action-color;
		}
	}
	&:active{
		.icon{
			background-color:$action-color;
			color:$white;
		}
	}
	.icon-play{
		display:block;
		vertical-align:bottom;
		margin:0 auto;
		width:1em;
		height:1em;
		padding:1em .75em 1em 1.25em;
		border:4px solid $white;
		@include perfect-circle;	
	}

}

.next-section{
	display:block;
	position:absolute;
	bottom:0;
	text-align:center;
	width:100%;
	padding:2em 0;
	color:$white;
	text-decoration:none;
	font-weight:600;
	letter-spacing:.1em;
	text-transform:uppercase;
	@include quarter-second-transition;	
	&:hover{
		//background-color:$white;
		text-decoration:none;
		color:$white;
		padding:2.5em 0 1.5em 0;
	}	
}

/* ======================================================== LISTS */

.basic-list{
	list-style-type:disc;
	text-indent:none;
	padding:0 0 0 1em;
	color:$medium-grey;
	li{
		float:none;
		text-indent:none;
	}
}

.one-column{
	list-style-type:none;
	margin:0;
	padding:0;
	text-indent:none;
	text-align:left;	
	>li{
		float:left;
		width:90%;
		padding:1em 5%;
	}
}
.two-columns{
	list-style-type:none;
	margin:0;
	padding:0;
	text-indent:none;
	text-align:left;	
	>li{
		float:left;
		width:90%;
		padding:1em 5%;
	}
	
	@media screen and (min-width:(em(800))){
		>li{
			width:45%;
			padding:1em 5% 1em 0;
		}
	}
}

.three-columns{
	list-style-type:none;
	margin:0;
	padding:0;
	text-indent:none;
	text-align:left;	
	>li{
		float:left;
		width:90%;
		padding:1em 5%;
	}
	
	@media screen and (min-width:(em(800))){
		>li:first-child, >li:last-child{
			width:29%;
			padding:1em 4% 1em 0;
		}
		>li{
			width:30%;
			padding:1em 4% 1em 0;
		}
	}
}

/* ======================================================== LOGO / TOGGLE / NAVIGATION  */

#header{	
	position:fixed;
	z-index:400;
	top:0;
	width:100%;
	background-color:rgba(255,255,255,.5);
	padding:0;
	overflow:hidden;
	@include quarter-second-transition;
	&:hover{
		//background-color:$white;
	}
	
	#logo, #toggle{
		color:$dark-grey;
		&:hover{
			background-color:$white;
		}
	}
	
	#logo{
		padding:1em;
		display:inline-block;
		text-decoration:none;
		color:$dark-grey;
		text-transform:uppercase;
		letter-spacing: .15em;	
		&:hover{
			color:$action-color;
			background-color:$white;
		}
		&:active{
			text-decoration:none;
			color:$white;
			background-color:$action-color;	
		}			
	}
	#toggle{
		float:right;
		background:none!important;
		outline:none;
		border:none;
		display:block;
	    span{
	      display:block;
	    }
	}
}

//BEGIN MENU ICON
$button-size : 2em; 
//common to all three-liners
.lines-button {
  padding: $button-size/4 $button-size/4;
  transition: .1s;
  cursor: pointer;
  user-select: none;
  border-radius: $button-size/8;
  &:hover {
    opacity: 1;
  }
  &:active {
    transition: 0;
  }
}
//common to all three-liners
@mixin line {
  display: inline-block;
  width: $button-size;
  height: $button-size/8;
  background: $dark-grey;
  border-radius: $button-size/12; 
  transition: .1s;
}
//common to all three-liners
.lines {
  @include line;
  position: relative; 
  &:before, &:after {
   @include line;
    position: absolute;
    left:0;
    content: '';
    -webkit-transform-origin: $button-size/14 center;
            transform-origin: $button-size/14 center;
  }
  &:before { 
    top: $button-size/4; 
	width:$button-size/1.25; 
  }
  &:after { 
    top: -$button-size/4;
	width:$button-size/1.25;  
  }
}
//common to all three-liners
.lines-button:hover {
	
  .lines {
	  
    &:before { 
      //top: $button-size/3.5;
	  width:$button-size; 
    }
    &:after { 
      //top: -$button-size/3.5;
	  width:$button-size; 
    }
  }
}
.lines-button.close {
  -webkit-transform: scale3d(.8,.8,.8);
          transform: scale3d(.8,.8,.8);
}*
//x2 transitions
.lines-button.x2{
    .lines{
      transition: background .1s .1s ease;

      &:before, &:after{
        //set transform origin
      -webkit-transform-origin: 50% 50%;
              transform-origin: 50% 50%;
        transition: top .1s .2s ease, -webkit-transform .1s ease;
        transition: top .1s .2s ease, transform .1s ease;
      }
    }
}
.lines-button.x2.close{
  .lines {
    transition: background .1s 0s ease;
    background: transparent;

    &:before, &:after{
      transition: top .1s ease, -webkit-transform .1s .2s ease;//delay the formation of the x till the minus is formed  
      transition: top .1s ease, transform .1s .2s ease;//delay the formation of the x till the minus is formed  
      top:0;
      width: $button-size;
    }
    &:before{
      -webkit-transform: rotate3d(0,0,1,45deg); 
              transform: rotate3d(0,0,1,45deg); 
    }
    &:after{
      -webkit-transform: rotate3d(0,0,1,-45deg); 
              transform: rotate3d(0,0,1,-45deg); 
    }
  }
}
//END MENU ICON

#primary-nav{
	position:fixed;
	width:80%;
	margin:0;
	padding:0 10%;
	background-color:$action-color;
	z-index:399;
	top:0;
	bottom:0;
	@include quarter-second-transition;	
	a{
		color:$white;
		text-decoration:none;
		display:block;
		border:1px solid transparent;
		width:100%;
		padding:.25em 0;
		span{
			font-size:75%;
			opacity:0;
			float:left;
			padding:0;
			margin-left:-.5em;
			width:0;
			@include quarter-second-transition;
		}
		&:hover{
			color:$white;
			span{
				opacity:1;
				margin-left:0;
				padding:0 1em 0 0;
			}
		}
		&:active{
			//color:$action-color;
			//background-color:$white;
		}
	}
}

#primary-nav.open{
	padding:7em 10%;
}
#primary-nav.closed{
	padding:0 10%;
}
.primary /*DL*/ {
	border-top:1px solid $white;
	padding:1em 0;
	color:$white;
	dt{
		text-transform:uppercase;
		letter-spacing:.2em;
		font-size:1em;
		opacity:0.75;

	}
}
.primary-link /*DD*/{
	font-size:2em; 
	line-height:1.25em;
	padding:0;
	margin:0;
			
	@media screen and (min-width:(em(800))){
	width:50%;
	float:left;
	}
}
.secondary /*UL*/{
	text-indent:1em;
	font-size:.75em;
	padding:0;
	margin:0;
	display:none;
}
.secondary-link /*LI*/{

}

/* ======================================================== SECONDARY NAVIGATION MENUS  */

.breadcrumb{
	position:absolute;
	top:3em;
	left:0;
	z-index:501;
	border-top:1px solid $light-grey;
	@media screen and (min-width:(em(480))){
		border-top:none;
		position:fixed;
		top:0;
		left:10em;
	}
	ul{
		padding:0;
		margin:0;
		line-height:1.6em;
	}
	li{
		float:left;
		border-left:1px solid rgba(0,0,0,.05);
		margin:.5em 0;
		max-height:2.5em;
		overflow:visible;
	}
	a{
		display:block;
		margin: -.5em 0;
		padding:1em;
		text-decoration:none;
		color:rgba(0,0,0,.5);
		&:hover{
			text-decoration:none;
			color:$action-color;
			background-color:$white;
		}
		&:active{
			text-decoration:none;
			color:$white;
			background-color:$action-color;	
		}
	}
}

.tertiary{
	float:left;
	margin: 0;
	padding:0;
		.icon-down{
			display:inline-block;
			font-size:1em;
			line-height:0;
			padding:0 0 0 1em;
			vertical-align:middle;
			&:before{
				font-size:2em;
			}
		}
		dt{
			display:block;
			margin:-.5em 0 0 0;
			padding: 1em;
			text-decoration:none;
			color:rgba(0,0,0,.5);
		}
		dd{
			margin:0;
			padding:0;
			a{
				display:block;
				margin:0;
				padding:0;
				max-height:0;
				overflow:hidden;
				margin:1px 0 0 0;
				padding:0 1em;
				background-color:$white;
				&:active{
				color:$white;
				background-color:$action-color;	
				}
			}
		}
		&:hover, &:active, &:focus{
			dt{
				background-color:$white;
			}
			dd{
				a{
				padding:1em;
				max-height:2em;
				//overflow:auto;
				}
			}
		}
}

.subnav{
	margin: 0 auto;
	width:80%;
	max-width:50em;
	padding:1em 0;
	text-indent:none;
	dt, dd{
		font-size:1.25em;
		float:left;
		padding:.5em .75em;
	}
	dt{
		font-style:italic;
		color:$medium-grey;
	}
	.active{
		color:$action-color;
		border:1px solid $action-color;
	}
}

.share{
	position:fixed;
	right:1em;
	top:40%;
	z-index:300;
	@media screen and (min-width:(em(800))){
		right:2em;
	}
	
	
	.icon-share{
		display:none;
		padding:1em;
		background-color:$white;
		&:hover{
			color:$action-color;
		}
	}
	ul{
		background:rgba(0,0,0,0.5);
		padding:0;
		margin:0;
	}
	li{
		position:relative;
		width:3em;
		height:3em;
		border:2px solid white;
		span{
			position:absolute;
			display:block;
			color:$white;
			padding:1em;
			top:0;
			bottom:0;
			cursor:pointer;
		}
		.action{
			z-index:1;
			right:3em;
			display:block;
			width:0;
			transition:.2s;
			text-align:center;
			line-height:1em;
			box-shadow: 0 0 0 2px $white;
			opacity:0;
			overflow:hidden;
		}
		.icon{
			z-index:2;
			width:1em;
			text-align:center;
		}
		.facebook{background-color:#3b5998;color:$white;}
		.twitter{background-color:#55acee;color:$white;}
		.google{background-color:#dd4b39;color:$white;}
		&:hover, &:active{
			.action{
				right:3em;
				opacity:1;
				width:4em;
			}
			.icon-facebook{background-color:#3b5998;color:$white;}
			.icon-twitter{background-color:#55acee;color:$white;}
			.icon-google{background-color:#dd4b39;color:$white;}	
		}
	}
}

/* ======================================================== SCROLLING VERTICAL DOT NAVIGATION  */
.scrollnav {
	position:fixed;
	left:0;
	top:25%;
	z-index:400;

	ul {
    position: relative;
    display: inline-block;
    margin: 0;
    padding: 0;
    list-style: none;
    cursor: default;
	}
	
	li {
    position: relative;
    display: block;
    margin: 3em 2em 3em 1.5em;
    width: 1.2em;
    height: 1.2em;
    cursor: pointer;
	box-shadow:1px 0 0 2px rgba(0,0,0,.25);
	background-color:rgba(0,0,0,.5);
	border-radius:50%;
	
	.current{
		box-shadow: inset 0 0 0 .75em $white;	
	} 
		a {
	    top: 0;
	    left: 0;
	    width: 100%;
	    height: 100%;
	    outline: none;
	    border-radius: 50%;
	    background-color: #fff;
	    background-color: rgba(255,255,255,0.3);
	    text-indent: -999em;
	    cursor: pointer; /* make the text accessible to screen readers */
	    position: absolute;
		
		background-color: transparent;
		//@include drop-shadow;
		box-shadow: inset 0 0 0 2px $white;
		-webkit-transition: box-shadow 0.3s ease;
		transition: box-shadow 0.3s ease;
		
			&:hover, &:active, &:focus{
			box-shadow: inset 0 0 0 .75em $white;
			}
		
		}
		
	}
	
	
}


/* ======================================================== OPEN / CLOSE */

.open{
	opacity:.95;
	max-height:auto;
	overflow:scroll;
}
.closed{
	opacity:0 !important;
	max-height:0;
	overflow:hidden;
}

//Projects
.expanded{
	opacity:1;
	max-height:auto;
	overflow:auto;
}
.collapsed{
	opacity:0;
	max-height:0;
	overflow:hidden;
	margin-top: 0 !important;
	margin-bottom: 0 !important;
	//border-bottom: 1px solid white;
	@include quarter-second-transition;
}

.local-link{
	text-decoration:none;
	color:$white;
	opacity:.75;
	&:hover, &:active{
		color:$white;
		opacity:1;
		text-decoration:none;	
	}
	.icon-plus{
		display:block;
		clear:both;
		border:2px solid $white;
		width:1em;
		text-align:center;
		margin:.5em auto;
		padding:.25em;
		@include perfect-circle;	
		&:before{
			display:inline-block;
			@include quarter-second-transition;
		}
	}
	.icon-plus.open:before{
		@include rotate45;
	}	
	&:hover{
		.icon-plus{
			background-color:$white;
			color:$action-color;
		}
	}
}



/* LAYOUT ====================== */

//Body
body{
	margin:0;
	padding:0;
}
#main{
	padding:0;
	text-align:center;
	>section{
		padding:4em 0 0 0;
		
		@media screen and (min-width:(em(480))){
			padding:2em 0 0 0;
		}
		
		text-align:center;
		z-index:1;
	}
}
.overlay-wrap{
	position:absolute;
	z-index:2;
	top:0;
	bottom:0;
	left:0;
	right:0;
	background-color:rgba(0,0,0,0.15);
}
.floating-text{
	display:block;
	margin: auto;
	  position: absolute;
	  top: 0; left: 0; bottom: 0; right: 0;
	  height:10em;
	  overflow:visible;
	color:$white;
	z-index:2;
	@include quarter-second-transition;
}
.full-screen{
	background-size:cover;
	background-position:center;
	padding:0;
	width:100%;
	position:relative;
	max-height:1000px!important;
	img{
		width:100%;
	}
}

//Fluid Full-Screen Videos
.video-overlay{
	display:none;	
	position:fixed;	
	height: 100%;
	width: 100%;
	top: 0;
	bottom: 0;
	right: 0;
	left: 0;
	z-index:499;
	.video-inner{
		position: absolute;
		height: auto;
		bottom: 0;
		top: 0;
		left: 0;
		right: 0;
		background-color: $black;
	}
	iframe{
		width: 100%;
		height: 100%;
	}
}

.close-video{
	position:absolute;
	top:0;
	right:0;
	margin:0;
	padding:1em;
	opacity:0.5;
	//font-size:2em;
	&:hover{
		opacity:1;
	}
		.icon-close{
			display:block;
			vertical-align:bottom;
			margin:0;
			width:1em;
			height:1em;
			padding:.25em;
			border:4px solid $white;
			font-size:2em;
			@include perfect-circle;
		}
}


//Articles / Content 
article{
	width:100%;
	text-align:left;
	header{
		border-bottom:1px solid $white;
	}
	header, footer{
		width:90%;
		padding:2em 5%;
		text-align:center;
	}
	.content{
		width:80%;
		margin:3em auto;
		max-width:50em;
	}
	h3{
		border-top:1px solid $medium-grey;
		padding-top:1em;
	}
	img{
		width:100%;
	}
}


//Primary Footer
#footer{
	background-color:$dark-grey;
	color:$medium-grey;
	width:80%;
	padding:1em 10%;
	text-align:center;
	
}
#top{
	position:fixed;
	bottom:0;
	right:0;
	z-index:500;
	display:block;
	padding:.5em 1em;	
	color:$white;
	border:2px solid $white;
	background-color:rgba(0,0,0,0.5);
	text-decoration:none;
	@include quarter-second-transition;
	&:hover, &:active{
		color:$action-color;
		background-color:$white;
	}
}